<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Player</title>

<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: #000;
    overflow: hidden;
}

iframe {
    width: 100vw;
    height: 100vh;
    border: 0;
}
</style>
</head>

<body>

<div id="player"></div>

<script>
(async () => {
    try {
        // Fetch JSON
        const res = await fetch(
          "https://raw.githubusercontent.com/Cricketstan/Allrounder-/refs/heads/main/id.json"
        );
        const data = await res.json();

        // Get ID from URL ?id=
        const id = new URLSearchParams(window.location.search).get("id");

        // Find matching stream
        const stream = data.iframes.find(item => item.id === id);

        if (!stream) return;

        // Create iframe
        const iframe = document.createElement("iframe");
        iframe.src = stream.iframeSrc;
        iframe.allow = "autoplay; encrypted-media; fullscreen";
        iframe.allowFullscreen = true;

        document.getElementById("player").appendChild(iframe);

    } catch (e) {
        console.error("Error loading stream", e);
    }
})();
</script>

</body>
</html>
