<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CineArena</title>

  <meta name="referrer" content="no-referrer">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.6.0/shaka-player.ui.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shaka-player/4.6.0/controls.min.css">

  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    html,body{background:#000;height:100%;width:100%;font-family:sans-serif;}

    .shaka-video-container{
      position:absolute;inset:0;width:100%;height:100%;
    }
    video{width:100%;height:100%;background:#000;object-fit:contain;}
    #myLogo {
  width: 120px;
  height: 40px;
  position: absolute;
  right: 5px;
  top: 10px;
  z-index: 99999 !important;
  pointer-events: auto !important;
  cursor: pointer;
}

/* allow click to pass */
.shaka-video-container,
video {
  pointer-events: auto !important;
}


    /* Seek Bar Colors */
    .youtube-theme .shaka-seek-bar{background:rgba(255,255,255,.2)!important;}
    .youtube-theme .shaka-buffered-range{background:rgba(255,255,255,.4)!important;}
    .youtube-theme .shaka-played-range{background:red!important;}

    /* Hide loading spinner */
    .shaka-spinner-container,.shaka-spinner,.shaka-spinner-svg{display:none!important;}
  </style>

</head>

<body>

<div class="shaka-video-container youtube-theme" data-shaka-player>
  <video id="video" autoplay playsinline preload="auto"></video> <!-- âœ… FIXED HERE -->
  <a href="https://t.me/cine_arena" target="_blank">
  <img id="myLogo" src="https://cricstream4u.github.io/cinearena/cineheader.png">
</a>
</div>

<script>
  const q = new URLSearchParams(location.search);
  const stream = q.get("url");

  const video = document.getElementById("video");
  const player = new shaka.Player(video);

  const container = document.querySelector('.shaka-video-container');
  const ui = new shaka.ui.Overlay(player, container, video);

  ui.configure({
    seekBarColors:{
      base:'rgba(255,255,255,.2)',
      buffered:'rgba(255,255,255,.4)',
      played:'red'
    },
    controlPanelElements:[
      'play_pause','mute','time_and_duration','spacer','quality','language',
      'picture_in_picture','fullscreen','overflow_menu'
    ]
  });

  player.configure({
    streaming:{bufferingGoal:10,rebufferingGoal:2,bufferBehind:30}
  });

  async function start(){
    try{
      await player.load(stream);
      video.muted=false;
      video.play().catch(()=>{video.muted=true; video.play();});
    }catch(e){
      video.src=stream;
      video.play().catch(()=>{video.muted=true; video.play();});
    }
  }

  document.addEventListener("DOMContentLoaded", start);
</script>

</body>
</html>
